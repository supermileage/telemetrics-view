(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{234:function(t,e,n){},235:function(t,e,n){},79:function(t,e,n){t.exports=n(80)},80:function(t,e,n){"use strict";n.r(e);var a=n(78),r=n(34),o=n(35),s=n(37),i=n(36),l=n(38),c=n(1),u=n.n(c),d=n(22),h=n.n(d),p=n(71),g=n(48),m=n(76),b=n.n(m),v=n(77),f=n.n(v),S=(n(233),n(234),n(235),{labels:[],datasets:[{label:"Test",fill:!0,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[]}]}),C=function t(e){return null==e?t(new Date):e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0")+"T"+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")+":"+e.getSeconds().toString().padStart(2,"0")+"."+e.getMilliseconds().toString().padStart(3,"0")+"Z"},E=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(s.a)(this,Object(i.a)(e).call(this,t))).handleChangeStart=function(t){n.setState({startTime:t})},n.handleChangeEnd=function(t){n.setState({endTime:t})},n.handleCurrent=function(t){t.target.checked?(n.setState({current:!0,endTime:null}),n.interval=setInterval(function(){return n.getData()},1500)):(n.setState({current:!1}),clearInterval(n.interval),n.handleChangeEnd(new Date))},n.getData=function(){fetch("https://datastore.googleapis.com/v1/projects/ubc-supermileage-telemetry-v2:runQuery?prettyPrint=true&alt=json",{method:"POST",headers:{Authorization:"Bearer "+n.token,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({gqlQuery:{queryString:"SELECT * FROM ParticleEvent WHERE ParticleEvent.published_at >= '"+C(n.state.startTime)+(n.state.current?"'":"' AND ParticleEvent.published_at <= '"+C(n.state.endTime)+"'"),allowLiterals:!0}})}).then(function(t){return t.json().then(function(t){console.log(t.batch.entityResults),console.log(t)})})},n.responseGoogle=function(t){n.setState({loggedIn:!0}),console.log(t),n.token=t.accessToken},n.responseFail=function(t){console.log(t),console.log("Failed")},n.buttonInit=function(){return u.a.createElement("span",{className:"updateButton"},u.a.createElement("button",{onClick:n.getData},"Update"))},n.state={startTime:new Date,endTime:new Date,current:!1,loggedIn:!1,animations:!0},n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return this.state.loggedIn?(console.log("rerendering"),u.a.createElement("div",null,u.a.createElement("div",{className:"header"},u.a.createElement(O,{startVal:this.state.startTime,endVal:this.state.endTime,onChangeStart:this.handleChangeStart,onChangeEnd:this.handleChangeEnd,isCurrent:this.state.current,isCurrentHandler:this.handleCurrent}),this.state.current?"":this.buttonInit()),u.a.createElement(j,{animations:this.state.animations}))):u.a.createElement("div",{className:"login"},u.a.createElement(f.a,{clientId:"617338661646-v92ol8vhd4nl44vpntkv4jpjbq5hahmo.apps.googleusercontent.com",buttonText:"Login",onSuccess:this.responseGoogle,onFailure:this.responseFail}))}}]),e}(u.a.Component),j=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(s.a)(this,Object(i.a)(e).call(this,t))).render=function(){return u.a.createElement("div",null,u.a.createElement(p.a,{data:n.state,options:{animation:!!n.props.animations&&{duration:500}}}))},n.val=1,n.state=S,n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.interval=setInterval(function(){var e=(t.state.labels.length,t.state.labels.slice()),n=t.state.datasets[0],r=Object(a.a)({},n);r.data=(n.data.length,n.data.slice()),e.push(t.val),t.val++,r.data.push(Math.random()),t.setState({labels:e,datasets:[r]})},2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}}]),e}(u.a.Component),O=function(t){function e(){return Object(r.a)(this,e),Object(s.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return u.a.createElement("div",{id:"pickers"}," Start "," ",u.a.createElement(g.a,{selected:this.props.startVal,selectsStart:!0,showTimeSelect:!0,timeIntervals:15,startDate:this.props.startVal,endDate:this.props.endVal,onChange:this.props.onChangeStart,dateFormat:"MMMM d h:mm:ss aa"})," End ",u.a.createElement(g.a,{selected:this.props.endVal,placeholderText:"Current",selectsEnd:!0,showTimeSelect:!0,timeIntervals:15,startDate:this.props.startVal,endDate:this.props.endVal,onChange:this.props.onChangeEnd,dateFormat:"MMMM d h:mm:ss aa"},u.a.createElement("div",null,u.a.createElement("label",null,u.a.createElement(b.a,{defaultChecked:this.props.isCurrent,onChange:this.props.isCurrentHandler}),u.a.createElement("span",null,"Get current values")))))}}]),e}(u.a.Component);h.a.render(u.a.createElement(E,null),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.109337c0.chunk.js.map